<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>post-message: a</title>
  <script src="./rpc.js"></script>
</head>
<body>
  <h1>post-message-rpc: a</h1>
  <div>
    <span id="message-from-index"></span>
  </div>

  <script>
    function setIndexNameAndAge(name, age) {
      document.getElementById('message-from-index').innerHTML = `我是 ${name}，今年 ${age} 岁`
      return `我是 a, 知道了你是 ${name}，今年 ${age} 岁`
    }
    registerRpcFunc({
      setIndexNameAndAge,
      // 异步函数
      setIndexNameAndAgeAsync: function (name, age) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve(setIndexNameAndAge(name, age))
          }, 2000)
        })
      },
    })
  </script>
</body>
</html>